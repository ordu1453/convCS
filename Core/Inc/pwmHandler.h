/**
 * @file pwmHandler.h
 * @brief Заголовочный файл модуля обработчика состояний ШИМ
 *
 * Этот файл содержит объявления функций для управления
 * состоянием ШИМ на основе системных условий.
 *
 * @author ordum
 * @date Oct 16, 2025
 */

#ifndef INC_PWMHANDLER_H_
#define INC_PWMHANDLER_H_

#include <stdint.h>
#include "config.h"

/**
 * @brief Инициализация обработчика ШИМ
 *
 * Выполняет начальную настройку модуля обработчика ШИМ.
 * В текущей реализации может быть пустой функцией-заглушкой.
 *
 * @note Зарезервировано для будущих расширений
 */
void pwmHandlerInit(void);

/**
 * @brief Обработка состояния ШИМ
 *
 * Определяет необходимость включения/отключения ШИМ
 * на основе текущего состояния системы и наличия ошибок.
 *
 * @param hasError Флаг наличия ошибок в системе (1 = есть ошибки, 0 = ошибок нет)
 * @param state Запрошенное состояние системы для перехода
 *
 * @note Функция реализует приоритетную логику: ошибки > запрошенное состояние
 * @see SystemState_t для описания возможных состояний системы
 */
void pwmHandlerProcess(uint8_t hasError, SystemState_t state);

#endif /* INC_PWMHANDLER_H_ */
